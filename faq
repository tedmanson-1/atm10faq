local mon = peripheral.wrap("top")

-- Reset monitor
mon.clear()
mon.setTextScale(1)

local fileName = "filename.txt"
local file = fs.open(fileName, "r")

if file then
    local lineNum = 1
    local line = file.readLine()
    
    while line do
        mon.setCursorPos(1, lineNum)
        
        -- Check for tags at the start of the string
        if string.sub(line, 1, 3) == "(h)" then
            mon.setTextColor(colors.blue)
            -- Write the line starting AFTER the tag
            mon.write(string.sub(line, 4)) 
        elseif string.sub(line, 1, 3) == "(l)" then
            mon.setTextColor(colors.red)
            -- Write the line starting AFTER the tag
            mon.write(string.sub(line, 4))
        else
            mon.setTextColor(colors.white)
            mon.write(line)
        end
        
        lineNum = lineNum + 1
        line = file.readLine()
    end
    file.close()
else
    mon.setTextColor(colors.red)
    mon.write("Error: " .. fileName .. " not found!")
end
